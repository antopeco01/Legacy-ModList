<!DOCTYPE html>
<html lang="en">
  <head>
    <title>LegacyModList</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        padding: 2rem;
        background-color: #121212;
        color: #f1f1f1;
      }

      h1 {
        font-weight: 700;
        margin-bottom: 1rem;
        color: #ffffff;
      }

      h2 {
        font-weight: 600;
        margin-top: 2.5rem;
        margin-bottom: 1rem;
        color: #ffc107;
      }

      hr {
        border-top: 1px solid #444;
        margin-top: 1rem;
        margin-bottom: 2rem;
      }

      table {
        background-color: #1e1e1e;
        color: #fff;
      }

      th {
        background-color: #2c2c2c !important;
        color: #f8f9fa;
      }

      td {
        background-color: #1e1e1e;
      }

      #categoryMenuBtn {
        position: fixed;
        top: 1rem;
        right: 1rem;
        z-index: 1050;
        font-weight: 600;
      }

      .dropdown-menu {
        background-color: #212529;
        border: 1px solid #333;
      }

      .dropdown-item {
        color: #f8f9fa;
      }

      .dropdown-item:hover {
        background-color: #343a40;
        color: #ffc107;
      }

      .table th,
      .table td {
        vertical-align: middle;
        text-align: left;
        padding: 0.75rem;
      }

      a {
        text-decoration: none;
      }

      @media (max-width: 768px) {
        body {
          padding: 1rem;
        }

        #categoryMenuBtn {
          right: 0.5rem;
        }
      }
    </style>
  </head>

  <body>
    <h1>Mod List</h1>
    <hr />

    <!-- Menu fluttuante -->
    <div class="dropdown">
      <button
        class="btn btn-warning dropdown-toggle"
        type="button"
        id="categoryMenuBtn"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        Vai alla Categoria
      </button>
      <ul class="dropdown-menu dropdown-menu-end" id="categoryMenu"></ul>
    </div>

    <!-- Contenuto generato -->
    <div id="content" class="container-fluid"></div>

    <!-- Inserimento dati direttamente nel file -->
    <script>
      const jsonData = [
        {
          category: "Tech",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Redstone & Logistic",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Storage & Inventory",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Equipment & Weponary",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Food & Farming",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Adventure & RPG",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Magic",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Building & Decoration",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Miscellaneous",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Biomes & Terrain",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Structures",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Village & Villagers",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Dimension",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Mob & Creatures",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Ores & Resources",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Map & Information",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Utilities & QoL",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Configuration",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Performance & Bug Fixes",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Lib & API",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Backport",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Cosmetic",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
        {
          category: "Resource pack",
          mods: [{ name: "", info: "", addons: "", fork: "" }],
        },
      ];
    </script>

    <!-- Generazione tabelle -->
    <script>
      function setDangerouslyHtml(element, html) {
        element.innerHTML = html;
      }

      const contentContainer = document.getElementById("content");
      const categoryMenu = document.getElementById("categoryMenu");

      jsonData.forEach((entry) => {
        const category = entry.category;
        const mods = entry.mods;
        const safeId = category.replace(/\s+/g, "_");

        const header = document.createElement("h2");
        setDangerouslyHtml(header, category);
        contentContainer.appendChild(header);

        const table = document.createElement("table");
        table.className = "table table-dark table-bordered table-hover";
        table.id = safeId;
        table.name = safeId;

        const thead = document.createElement("thead");
        const headerRow = document.createElement("tr");
        Object.keys(mods[0]).forEach((key) => {
          const th = document.createElement("th");
          setDangerouslyHtml(th, key);
          headerRow.appendChild(th);
        });
        thead.appendChild(headerRow);
        table.appendChild(thead);

        const tbody = document.createElement("tbody");
        mods.forEach((mod) => {
          const row = document.createElement("tr");
          Object.values(mod).forEach((value) => {
            const td = document.createElement("td");
            setDangerouslyHtml(td, value);
            row.appendChild(td);
          });
          tbody.appendChild(row);
        });
        table.appendChild(tbody);
        contentContainer.appendChild(table);

        const menuItem = document.createElement("li");
        const link = document.createElement("a");
        link.className = "dropdown-item";
        setDangerouslyHtml(link, category);
        link.addEventListener("click", () => {
          document
            .getElementById(safeId)
            .scrollIntoView({ behavior: "smooth" });
        });
        menuItem.appendChild(link);
        categoryMenu.appendChild(menuItem);
      });
    </script>

    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
